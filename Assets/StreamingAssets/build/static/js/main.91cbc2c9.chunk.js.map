{"version":3,"sources":["pages/YouTube.jsx","pages/Spring.jsx","pages/Twitch.jsx","components/Button.jsx","static/door-open.svg","static/link.svg","static/lightbulb.svg","static/pause.svg","static/play.svg","static/minus.svg","static/plus.svg","static/dots-vertical.svg","static/eject-fill.svg","static/backspace-hollow.svg","static/caret-square-up.svg","static/caret-square-up-hollow.svg","components/Keys.jsx","static/yt-small.png","static/thinking-face.svg","DataProvider.jsx","pages/Menu.jsx","pages/Keyboard.jsx","static/close.svg","static/back.svg","static/forward.svg","static/keyboard.svg","static/keyboard-dismiss.svg","pages/WebNav.jsx","App.jsx","index.jsx","utilities.js"],"names":["PlayerState","showState","state","name","Video","props","query","URLSearchParams","location","search","xRes","parseInt","get","yRes","opts","width","window","innerWidth","height","innerHeight","playerVars","autoplay","controls","disablekb","rel","history","useHistory","dev_mode","pathname","split","match","params","id","timeStamp","useState","player","setPlayer","init","setInit","ready","setReady","readying","setReadying","justBuffered","setJustBuffered","postStateChange","useCallback","message","console","log","vuplex","postMessage","type","current_time","getCurrentTime","readyUp","_timeStamp","Math","abs","getPlayerState","prepareToReadyUp","playVideo","seekTo","pauseVideo","unMute","_player","mute","useEffect","playerListeners","event","json","JSON","parse","data","command","setVolume","level","addEventListener","removeEventListener","pingPlayerTime","setInterval","document","getElementsByTagName","querySelectorAll","forEach","mediaElement","volume","duration","getDuration","clearInterval","onClick","push","onReady","target","loadVideoById","parseFloat","onError","onStateChange","Simple","useSpring","x","y","config","mass","tension","friction","set","bind","useDrag","down","movement","mx","my","className","div","style","Page","Twitch","options","url","onProgress","played","loaded","playedSeconds","loadedSeconds","postMouseDown","postJson","Type","Message","postMouseUp","postHover","ToggleButton","handleClick","classDisabled","classEnabled","shouldPostDown","shouldPostHover","shouldPostUp","enabled","onPointerEnter","onPointerDown","onPointerUp","children","Button","Shift","shift","toggleShift","imgHidden","imgVisible","KeyFrames","src","CaretSquareUp","alt","CaretSquareUpHollow","color","from","padding","cursor","borderRadius","background","display","flexWrap","alignContent","NumsOrChar","SymbolsOrNum","postChar","char","Data","KeyChar","_char","toUpperCase","Enter","Backspace","KeySVG","imgSrc","BackSpaceImgHollow","Space","StoreContext","React","createContext","useStore","useContext","store","ip_address","is_internet_good","port","network_state","loading_room_code","_refresh_room_code_handler","user_info","player_info","build","media_info","Active","Name","Paused","Scrub","Duration","VolumeLevel","experimental_info","BlockBreakEnabled","PinchPullEnabled","app_info","MicrophonePermission","Version","BuildId","_room_open","_room_code","makeAutoObservable","this","axios","method","room_code","catch","err","open","code","refreshRoomCode","Object","seal","pushStoreList","action","kvList","kv","Key","Val","pushStore","obj","prop","pushStoreSingle","StoreProvider","observer","storeListeners","_","useListeners","Provider","value","API_BASE","redButtonClass","greenButtonClass","grayButtonClass","postBrowseYouTube","postOpenRoom","postLeaveRoom","postLightsChange","showInfo","info","map","ConnectionId","join","stringify","ListItem","selected","inactive","buttonClassSelected","buttonClass","buttonClassInactive","SettingsList","SettingsTitle","JoinDeskButton","ConnectedClient","ThinkingFace","InfoItem","title","slug","MenuContent","LoadingHomePage","size","ClientHomePage","LinkImg","RoomInfo","OpenRoom","DoorOpen","CloseRoom","then","r","status","room_open","Fragment","HostHomePage","length","PlayerPage","ref","useRef","media","pct","mediaClass","PlayImg","PauseImg","e","ts","postSeekPlayer","clientX","current","offsetLeft","offsetWidth","EjectImg","MinusImg","PlusImg","HomePage","Inner","JoinDeskPage","navHome","setCode","posting","setPosting","setMessage","response","toString","slice","VideosPage","DebugPage","addFakeIpPort","rmFakeIpPort","setNetState","netState","addFakeClient","rmFakeClient","pop","toggleRoomOpen","containerClass","entries","SettingsPage","LightImg","ExitButton","NoMicPage","DotsImg","Menu","active","setActive","autorun","header","tag","SelectedPage","pages","component","joinDeskActive","i","toLowerCase","Keyboard","setShift","setLevel","level0","level1","handleClickSymbolOrNum","level12","level2","handleClickNumOrChar","postCommand","KeyboardButton","kbActive","KeyBoardDismissImg","KeyBoardImg","WebNav","setKbActive","CloseImg","BackImg","ForwardImg","postListenersReady","Date","getTime","Boot","navListeners","path","genNavListeners","to","onKeyDown","key","tabIndex","Home","App","Spring","YouTube","ReactDOM","render","StrictMode","getElementById","module","exports"],"mappings":"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","file":"static/js/main.91cbc2c9.chunk.js","sourcesContent":["import YouTube from 'react-youtube';\nimport React, {useCallback, useEffect, useState} from 'react';\nimport {useHistory} from 'react-router-dom';\n\nfunction setVol () {\n  console.log(document.getElementsByTagName(\"iframe\"))\n  document.querySelectorAll('video, audio').forEach(mediaElement => {\n    console.log(\"hit\")\n    console.log(mediaElement)\n    mediaElement.volume = 0.25\n  })\n}\n\nconst PlayerState = {\n  UNSTARTED: -1,\n  ENDED: 0,\n  PLAYING: 1,\n  PAUSED: 2,\n  BUFFERING: 3,\n  CUED: 5,\n};\n\nlet showState = (state) => {\n  let name;\n  switch (state) {\n    case -1:\n      name = 'unstarted';\n      break;\n    case 0:\n      name = 'ended';\n      break;\n    case 1:\n      name = 'playing';\n      break;\n    case 2:\n      name = 'paused';\n      break;\n    case 3:\n      name = 'buffering';\n      break;\n    case 5:\n      name = 'cued';\n      break;\n    default:\n      name = 'BAD SWITCH STATE';\n  }\n  return name;\n\n};\n\nlet Video = (props) => {\n  let query = new URLSearchParams(props.location.search);\n\n  let xRes = parseInt(query.get('x'));\n  let yRes = parseInt(query.get('y'));\n\n  let opts = {\n    width: xRes && yRes ? xRes : window.innerWidth,\n    height: xRes && yRes ? yRes : window.innerHeight,\n    playerVars: {\n      autoplay: 0,\n      controls: 0,\n      disablekb: 1,\n      rel: 0,\n    },\n  };\n\n  let history = useHistory();\n\n  let dev_mode = props.location.pathname.split('/')[1] === 'youtube_test';\n\n  let {id, timeStamp} = props.match.params;\n\n  let [player, setPlayer] = useState(null);\n  let [init, setInit] = useState(false);\n\n  // this is the 'I'm ready at a timestamp' 'ready', not the 'player is ready' of 'onReady'\n  let [ready, setReady] = useState(false);\n  let [readying, setReadying] = useState(false);\n  let [justBuffered, setJustBuffered] = useState(false);\n\n  let postStateChange = useCallback((message) => {\n    if (message !== 'READY') setReady(false);\n    console.log('POST ' + message);\n    if (!dev_mode) {\n      window.vuplex.postMessage({\n        type: 'stateChange',\n        message: message,\n        current_time: player.getCurrentTime(),\n      });\n    }\n  }, [player, dev_mode]);\n\n  let readyUp = useCallback((_timeStamp) => {\n    if (player == null) {\n      console.log('bonsai: ignoring attempt to ready up while player is null');\n      return;\n    }\n\n    if (ready && Math.abs(player.getCurrentTime() - _timeStamp) < 0.01) {\n      console.log('bonsai: ready-up called while ready');\n      postStateChange('READY');\n      return;\n    }\n\n    let state = player.getPlayerState();\n\n    if (!init) {\n      console.log('bonsai: ignoring attempt to ready-up before init');\n    } else {\n      console.log(\n          'bonsai: readying up from ' + showState(state) + ' -> ' + _timeStamp);\n      prepareToReadyUp(player);\n      if (state === PlayerState.PAUSED) {\n        player.playVideo();\n      }\n      player.seekTo(_timeStamp, true);\n      player.pauseVideo();\n      player.unMute();\n    }\n\n  }, [init, player, postStateChange, ready]);\n\n  let prepareToReadyUp = (_player) => {\n    console.log('bonsai: prepare to ready up');\n    setReady(false);\n    setReadying(true);\n    _player.mute();\n  };\n\n  let onReady = (event) => {\n    // load the player to the url timestamp when ready\n    let _player = event.target;\n    setPlayer(_player);\n    prepareToReadyUp(_player);\n    _player.loadVideoById(id, parseFloat(timeStamp));\n  };\n  let onError = (event) => {\n    console.log('bonsai youtube error: ' + event);\n  };\n\n  function handleCued() {\n    console.log('bonsai: ' + showState(player.getPlayerState()));\n  }\n\n  function handleUnstarted() {\n    console.log(\n        'bonsai: ' +\n        showState(player.getPlayerState()) + ' ' +\n        player.getCurrentTime(),\n    );\n  }\n\n  function handleEnded() {\n    console.log('bonsai: ' + showState(player.getPlayerState()));\n    postStateChange('ENDED');\n  }\n\n  function handlePlaying() {\n    if (init) {\n      if (readying) {\n        console.log('bonsai: while readying -> play');\n      } else {\n        if (justBuffered) {\n          console.log('bonsai: playing after buffer');\n        } else {\n          console.log('bonsai: playing');\n        }\n        postStateChange('PLAYING');\n      }\n    } else {\n      player.pauseVideo();\n    }\n    if (justBuffered) {\n      setJustBuffered(false);\n    }\n  }\n\n  function handlePaused() {\n    if (init) {\n      if (justBuffered) {\n        if (readying && !ready) {\n          console.log('bonsai: ready (pause after buffer)');\n          setReady(true);\n          setReadying(false);\n          postStateChange('READY');\n        } else {\n          console.log('bonsai: paused after buffering');\n          postStateChange('PAUSED');\n        }\n      } else {\n        if (readying) {\n          console.log('bonsai: while readying -> paused');\n        } else {\n          console.log('bonsai: paused');\n          postStateChange('PAUSED');\n        }\n      }\n    } else {\n      console.log('bonsai: init complete');\n      player.seekTo(timeStamp, true);\n      player.unMute();\n      setInit(true);\n      setReady(true);\n      setReadying(false);\n      postStateChange('READY');\n    }\n    if (justBuffered) {\n      setJustBuffered(false);\n    }\n  }\n\n  function handleBuffering() {\n    if (readying) {\n      console.log('bonsai: while readying -> buffering');\n    } else {\n      console.log('bonsai: buffering');\n    }\n    setJustBuffered(true);\n  }\n\n  useEffect(() => {\n    if (player == null || dev_mode) {\n      return;\n    }\n\n    let playerListeners = (event) => {\n      let json = JSON.parse(event.data);\n      if (json.type !== 'video') {\n        return;\n      }\n      console.log(event.data);\n      switch (json.command) {\n        case 'play':\n          console.log('COMMAND: play');\n          player.playVideo();\n          break;\n        case 'pause':\n          console.log('COMMAND: pause');\n          player.pauseVideo();\n          break;\n        case 'readyUp':\n          console.log('COMMAND: readyUp');\n          readyUp(json.timeStamp);\n          break;\n        case \"setVolume\":\n          player.setVolume(100 * json.level)\n          break;\n        default:\n          console.log('command: not handled (video) ' + event.data);\n          break;\n      }\n    };\n    window.vuplex.addEventListener('message', playerListeners);\n    return () => {\n      window.vuplex.removeEventListener('message', playerListeners);\n    };\n  }, [id, player, dev_mode, readyUp]);\n  useEffect(() => {\n    console.log('bonsai: add ping interval');\n    let pingPlayerTime = setInterval(() => {\n      // todo\n      setVol()\n      let current_time = 0;\n      let duration = 1;\n      if (player != null && player.getCurrentTime() != null && player.getDuration() != null) {\n        current_time = player.getCurrentTime();\n        duration = player.getDuration();\n      }\n      if (dev_mode) {\n        return;\n      }\n      window.vuplex.postMessage({\n        type: 'infoCurrentTime',\n        current_time: current_time,\n        duration: duration\n      });\n    }, 100);\n    return () => {\n      console.log('bonsai: remove ping interval');\n      clearInterval(pingPlayerTime);\n    };\n  }, [id, player, dev_mode]);\n\n  let onStateChange = (event) => {\n    switch (event.data) {\n      case PlayerState.CUED:\n        handleCued();\n        break;\n      case PlayerState.UNSTARTED:\n        handleUnstarted();\n        break;\n      case PlayerState.PLAYING:\n        handlePlaying();\n        break;\n      case PlayerState.PAUSED:\n        handlePaused();\n        break;\n      case PlayerState.BUFFERING:\n        handleBuffering();\n        break;\n      case PlayerState.ENDED:\n        handleEnded();\n        break;\n      default:\n        console.log('bonsai error: did not handle state change ' + event.data);\n        break;\n    }\n  };\n\n  return (\n      <div>\n        {dev_mode ?\n            <div>\n              <p onClick={() => {\n                history.push('/home');\n              }}>home</p>\n              {' '}\n              <p onClick={() => {\n                readyUp(40);\n              }}>ready up</p>\n            </div>\n            : ''\n        }\n        <YouTube\n            opts={opts}\n            onReady={onReady}\n            onError={onError}\n            onStateChange={onStateChange}\n        />\n      </div>\n  );\n};\n\nexport default Video;","import React from 'react';\nimport {animated, useSpring} from 'react-spring';\nimport {useDrag} from 'react-use-gesture';\n\nfunction Simple() {\n\n  const [{x, y}, set] = useSpring(\n      () => ({x: 0, y: 0, config: {mass: 1, tension: 400, friction: 5}}));\n\n  const bind = useDrag(({down, movement: [mx, my]}) => {\n    set({x: down ? mx : 0, y: down ? my : 0});\n  });\n\n  return (\n      <div\n          className={'h-screen w-full flex flex-wrap content-center justify-center'}>\n        <animated.div {...bind()} className={'bg-red-400 h-10 w-10 rounded-lg'}\n                      style={{x, y}}/>\n      </div>\n  );\n\n}\n\nlet Page = () => {\n  return <Simple/>;\n};\n\nexport default Page;","import React from 'react'\nimport ReactPlayer from \"react-player\"\n\nlet Twitch = () => {\n    let options = {\n        url: \"https://www.twitch.tv/hamletva\",\n        width: window.innerWidth,\n        height: window.innerHeight\n    }\n\n    let onProgress = ({played, loaded, playedSeconds, loadedSeconds}) => {\n        console.log(played, loaded, playedSeconds, loadedSeconds)\n    }\n\n    return <ReactPlayer {...options} onProgress={onProgress} />\n}\n\nexport default Twitch;","import React from 'react';\r\n\r\nimport {postJson} from '../utilities';\r\n\r\nfunction postMouseDown() {\r\n    postJson({Type: 'event', Message: 'mouseDown'});\r\n}\r\n\r\nfunction postMouseUp() {\r\n    postJson({Type: 'event', Message: 'mouseUp'});\r\n}\r\n\r\nfunction postHover() {\r\n    postJson({Type: 'event', Message: 'hover'});\r\n}\r\n\r\nexport function ToggleButton(props) {\r\n    let {\r\n        handleClick,\r\n        classDisabled = '',\r\n        classEnabled = '',\r\n        shouldPostDown = true,\r\n        shouldPostHover = true,\r\n        shouldPostUp = true,\r\n        enabled = false,\r\n    } = props;\r\n    return (\r\n            <div onPointerEnter={shouldPostHover ? postHover : null}\r\n                 onPointerDown={() => {\r\n                     handleClick();\r\n                     if (shouldPostDown) {\r\n                         postMouseDown();\r\n                     }\r\n                 }}\r\n                 onPointerUp={shouldPostUp ? postMouseUp : null}\r\n            >\r\n                <div className={enabled ? classEnabled : classDisabled}>\r\n                    {props.children}\r\n                </div>\r\n            </div>\r\n    );\r\n}\r\n\r\nexport function Button(props) {\r\n    let {\r\n        handleClick,\r\n        className = '',\r\n        shouldPostDown = true,\r\n        shouldPostHover = true,\r\n        shouldPostUp = true,\r\n    } = props;\r\n    return (\r\n            <div onPointerEnter={shouldPostHover ? postHover : null}\r\n                 onPointerDown={() => {\r\n                     handleClick();\r\n                     if (shouldPostDown) {\r\n                         postMouseDown();\r\n                     }\r\n                 }}\r\n                 onPointerUp={shouldPostUp ? postMouseUp : null}\r\n            >\r\n                <div className={className}>\r\n                    {props.children}\r\n                </div>\r\n            </div>\r\n    );\r\n}\r\n\r\n","export default __webpack_public_path__ + \"static/media/door-open.d2c81c6b.svg\";","export default __webpack_public_path__ + \"static/media/link.2f9ed73a.svg\";","export default __webpack_public_path__ + \"static/media/lightbulb.0d37fbdb.svg\";","export default __webpack_public_path__ + \"static/media/pause.9cd460e1.svg\";","export default __webpack_public_path__ + \"static/media/play.8aa501b6.svg\";","export default __webpack_public_path__ + \"static/media/minus.8db48c48.svg\";","export default __webpack_public_path__ + \"static/media/plus.b3bc8927.svg\";","export default __webpack_public_path__ + \"static/media/dots-vertical.8f200b94.svg\";","export default __webpack_public_path__ + \"static/media/eject-fill.2062a2b8.svg\";","export default __webpack_public_path__ + \"static/media/backspace-hollow.5cb2158e.svg\";","export default __webpack_public_path__ + \"static/media/caret-square-up.bce15253.svg\";","export default __webpack_public_path__ + \"static/media/caret-square-up-hollow.5d65dc16.svg\";","import React from 'react';\r\nimport {animated, useSpring} from 'react-spring';\r\nimport {Button} from './Button';\r\nimport {postJson} from '../utilities';\r\nimport BackSpaceImgHollow from '../static/backspace-hollow.svg';\r\nimport CaretSquareUp from '../static/caret-square-up.svg';\r\nimport CaretSquareUpHollow from '../static/caret-square-up-hollow.svg';\r\n\r\nexport function Shift(props) {\r\n  let {shift, toggleShift} = props;\r\n\r\n  const imgHidden = 'hidden h-10 w-10 absolute bottom-0 left-0';\r\n  const imgVisible = 'h-10 w-10 absolute -bottom-5 left-1';\r\n\r\n  return <KeyFrames handleClick={toggleShift}>\r\n    <div className={'relative w-full flex justify-center'}>\r\n      <img className={shift ? imgVisible : imgHidden} src={CaretSquareUp}\r\n           alt={''}/>\r\n      <img className={shift ? imgHidden : imgVisible}\r\n           src={shift ? CaretSquareUp : CaretSquareUpHollow} alt={''}/>\r\n    </div>\r\n  </KeyFrames>;\r\n}\r\n\r\nexport function KeyFrames({handleClick, width, children}) {\r\n  const level = 150;\r\n  const [props, set] = useSpring(() => ({\r\n    color: 'rgba(38,38,38,1)',\r\n    config: {duration: 400},\r\n  }));\r\n\r\n  function triggerKey() {\r\n    set({\r\n      from: {color: `rgba(${level},${level},${level},1)`},\r\n      color: 'rgba(38,38,38,1)',\r\n    });\r\n  }\r\n\r\n  function _handleClick() {\r\n    triggerKey();\r\n    handleClick();\r\n  }\r\n\r\n  return (\r\n      <Button handleClick={_handleClick} shouldPostDown={false}\r\n              shouldPostUp={false} shouldPostHover={false}>\r\n        <div>\r\n          <animated.div\r\n              style={{\r\n                width: width ? width : '5rem',\r\n                height: '5rem',\r\n                padding: '1rem',\r\n                cursor: 'pointer',\r\n                borderRadius: '0.25rem',\r\n                background: props.color,\r\n                display: 'flex',\r\n                flexWrap: 'wrap',\r\n                alignContent: 'center',\r\n              }}\r\n          >\r\n            <div\r\n                className={'w-full text-center text-white text-3xl'}>\r\n              {children}\r\n            </div>\r\n          </animated.div>\r\n        </div>\r\n      </Button>\r\n  );\r\n}\r\n\r\nexport function NumsOrChar(props) {\r\n  let {handleClick, level} = props;\r\n\r\n  let shift;\r\n  shift = level === 0;\r\n\r\n  return <KeyFrames handleClick={handleClick} width={'7em'}>\r\n    {shift ? '.?123' : 'ABC'}\r\n  </KeyFrames>;\r\n}\r\n\r\nexport function SymbolsOrNum(props) {\r\n  let {handleClick, level} = props;\r\n\r\n  let shift;\r\n  shift = level !== 1;\r\n\r\n  return <KeyFrames handleClick={handleClick} width={'5em'}>\r\n    <span className={'w-full -m-1'}>\r\n    {shift ? '123' : '#+='}\r\n    </span>\r\n  </KeyFrames>;\r\n}\r\n\r\nfunction postChar(char) {\r\n  postJson({Type: 'event', Message: 'keyPress', Data: char});\r\n}\r\n\r\nexport function KeyChar(props) {\r\n  let {char, shift} = props;\r\n  const _char = shift ? char.toUpperCase() : char;\r\n  return <KeyFrames handleClick={() => {\r\n    postChar(_char);\r\n  }}>\r\n    <span className={'w-full text-center text-white text-3xl'}>\r\n      {_char}\r\n    </span>\r\n  </KeyFrames>;\r\n}\r\n\r\nexport function Enter() {\r\n\r\n  return <KeyFrames handleClick={() => {\r\n    postChar('Enter');\r\n  }} width={'8rem'}>Enter</KeyFrames>;\r\n\r\n}\r\n\r\nexport function Backspace() {\r\n\r\n  return <KeySVG handleClick={() => {\r\n    postChar('Backspace');\r\n  }} imgSrc={BackSpaceImgHollow}/>;\r\n\r\n}\r\n\r\nexport function KeySVG(props) {\r\n  let {imgSrc, handleClick} = props;\r\n  return (\r\n      <KeyFrames handleClick={handleClick}>\r\n        <div className={'relative w-full flex justify-center'}>\r\n          <img className={'h-10 w-10 absolute -bottom-5 left-1'} src={imgSrc}\r\n               alt={''}/>\r\n        </div>\r\n      </KeyFrames>\r\n  );\r\n}\r\n\r\nexport function Space() {\r\n  return <KeyFrames handleClick={() => {\r\n    postChar(' ');\r\n  }} width={'24rem'}/>;\r\n}","export default \"data:image/png;base64,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\"","export default __webpack_public_path__ + \"static/media/thinking-face.179ede86.svg\";","import React, {useContext, useEffect, useState} from 'react';\r\nimport {action, makeAutoObservable} from 'mobx';\r\nimport {observer} from 'mobx-react-lite';\r\nimport axios from 'axios';\r\n\r\nexport const StoreContext = React.createContext();\r\nexport const useStore = () => useContext(StoreContext);\r\n\r\nlet API_BASE = 'https://api.desk.link';\r\n\r\nclass Store {\r\n    ip_address = null;\r\n    is_internet_good = false;\r\n    port = null;\r\n    network_state = null;\r\n    loading_room_code = false;\r\n    _refresh_room_code_handler = null;\r\n    user_info = {};\r\n    player_info = [];\r\n    build = 'PRODUCTION';\r\n    media_info = {\r\n        Active: false,\r\n        Name: 'None',\r\n        Paused: true,\r\n        Scrub: 0,\r\n        Duration: 1,\r\n        VolumeLevel: 0,\r\n    }\r\n    experimental_info = {\r\n        BlockBreakEnabled: false,\r\n        PinchPullEnabled: false\r\n    }\r\n    app_info = {\r\n        MicrophonePermission:false,\r\n        Version: \"?\",\r\n        BuildId: -1\r\n    }\r\n\r\n    constructor() {\r\n        makeAutoObservable(this);\r\n    }\r\n\r\n    _room_open = false;\r\n\r\n    get room_open() {\r\n        return this._room_open;\r\n    }\r\n\r\n    set room_open(open) {\r\n        this._room_open = open;\r\n        if (!open) {\r\n            this.room_code = '';\r\n        }\r\n    }\r\n\r\n    _room_code = null;\r\n\r\n    get room_code() {\r\n        return this._room_code;\r\n    }\r\n\r\n    set room_code(code) {\r\n        this._room_code = code;\r\n        if (code) {\r\n            this._refresh_room_code_handler = setInterval(() => {\r\n                        if (this.room_code) {\r\n                            this.refreshRoomCode();\r\n                        }\r\n                    }\r\n                    , 1000);\r\n        } else {\r\n            clearInterval(this._refresh_room_code_handler);\r\n            this._refresh_room_code_handler = null;\r\n        }\r\n    }\r\n\r\n    refreshRoomCode() {\r\n        axios({\r\n            method: 'post',\r\n            url: API_BASE + `/rooms/${store.room_code}/refresh`,\r\n        }).catch(err => {\r\n            console.log(err);\r\n            this.room_code = null;\r\n        });\r\n    }\r\n\r\n}\r\n\r\nconst store = new Store();\r\nObject.seal(store);\r\nlet pushStoreList = action((kvList) => {\r\n    kvList.forEach(kv => {\r\n        store[kv.Key] = kv.Val;\r\n    });\r\n});\r\nlet pushStore = action(obj => {\r\n    for (const prop in obj) {\r\n        store[prop] = obj[prop];\r\n    }\r\n});\r\nlet pushStoreSingle = action(obj => {\r\n    store[obj.Key] = obj.Val;\r\n});\r\n\r\nfunction useListeners() {\r\n    let [init, setInit] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if (init) return;\r\n\r\n        setInit(true);\r\n\r\n        let storeListeners = event => {\r\n            let json = JSON.parse(event.data);\r\n            switch (json.Type) {\r\n                case 'command':\r\n                    switch (json.Message) {\r\n                        case 'pushStore':\r\n                            pushStoreList(json.Data);\r\n                            break;\r\n                        case 'pushStoreSingle':\r\n                            pushStoreSingle(json.Data);\r\n                            break;\r\n                        default:\r\n                            console.log('message not handled ' + event.data);\r\n                            break;\r\n                    }\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n\r\n        };\r\n\r\n        if (window.vuplex != null) {\r\n            console.log('bonsai: vuplex is not null -> storeListeners');\r\n            window.vuplex.addEventListener('message', storeListeners);\r\n        } else {\r\n            console.log('bonsai: vuplex is null');\r\n            window.addEventListener('vuplexready', _ => {\r\n                console.log('bonsai: vuplexready -> storeListeners');\r\n                window.vuplex.addEventListener('message', storeListeners);\r\n            });\r\n        }\r\n\r\n    }, [init]);\r\n}\r\n\r\nexport const StoreProvider = observer(({children}) => {\r\n\r\n    useListeners();\r\n\r\n    return <StoreContext.Provider\r\n            value={{\r\n                store,\r\n                pushStore,\r\n                pushStoreList,\r\n            }}>{children}</StoreContext.Provider>;\r\n});","import React, {useEffect, useState, useRef} from 'react';\r\nimport './Menu.css';\r\nimport {postJson} from '../utilities';\r\nimport {Button, ToggleButton} from '../components/Button';\r\nimport axios from 'axios';\r\nimport DoorOpen from '../static/door-open.svg';\r\nimport LinkImg from '../static/link.svg';\r\nimport LightImg from '../static/lightbulb.svg';\r\nimport PauseImg from '../static/pause.svg';\r\nimport PlayImg from '../static/play.svg';\r\n\r\nimport MinusImg from '../static/minus.svg';\r\nimport PlusImg from '../static/plus.svg';\r\n\r\nimport DotsImg from '../static/dots-vertical.svg';\r\n\r\nimport EjectImg from '../static/eject-fill.svg';\r\nimport {KeySVG} from '../components/Keys';\r\nimport YtImg from '../static/yt-small.png';\r\nimport ThinkingFace from '../static/thinking-face.svg';\r\nimport {useStore} from '../DataProvider';\r\nimport {BeatLoader, BounceLoader} from 'react-spinners';\r\nimport {observer} from 'mobx-react-lite';\r\nimport {action, autorun} from 'mobx';\r\n\r\nconst API_BASE = 'https://api.desk.link';\r\n\r\nconst roundButtonClass = 'bg-gray-800 active:bg-gray-700 hover:bg-gray-600 rounded-full p-4 cursor-pointer w-20 h-20 flex flex-wrap content-center';\r\nconst redButtonClass = 'py-4 px-8 font-bold bg-red-800 active:bg-red-700 hover:bg-red-600 rounded cursor-pointer flex flex-wrap content-center';\r\nconst greenButtonClass = 'py-4 px-8 font-bold bg-green-800 active:bg-green-700 hover:bg-green-600 rounded cursor-pointer flex flex-wrap content-center';\r\nconst grayButtonClass = 'py-4 px-8 font-bold bg-gray-800 active:bg-gray-700 hover:bg-gray-600 rounded cursor-pointer flex flex-wrap content-center';\r\nconst grayButtonClassInert = 'py-4 px-8 font-bold bg-gray-800 rounded flex flex-wrap content-center';\r\n\r\n// post data\r\n\r\nfunction postRequestMicrophone() {\r\n    postJson({Type: 'command', Message: 'requestMicrophone'});\r\n}\r\n\r\nfunction postTogglePinchPull() {\r\n    postJson({Type: 'command', Message: 'togglePinchPull'});\r\n}\r\n\r\nfunction postToggleBlockBreak() {\r\n    postJson({Type: 'command', Message: 'toggleBlockBreak'});\r\n}\r\n\r\nfunction postCloseMenu() {\r\n    postJson({Type: 'command', Message: 'closeMenu'});\r\n}\r\n\r\nfunction postBrowseYouTube() {\r\n    postJson({Type: 'command', Message: 'browseYouTube'});\r\n}\r\n\r\nfunction postOpenRoom() {\r\n    postJson({Type: 'command', Message: 'openRoom'});\r\n}\r\n\r\nfunction postCloseRoom() {\r\n    postJson({Type: 'command', Message: 'closeRoom'});\r\n}\r\n\r\nfunction postJoinRoom(data) {\r\n    postJson({Type: 'command', Message: 'joinRoom', data: JSON.stringify(data)});\r\n}\r\n\r\nfunction postLeaveRoom() {\r\n    postJson({Type: 'command', Message: 'leaveRoom'});\r\n\r\n}\r\n\r\nfunction postKickConnectionId(id) {\r\n    postJson({Type: 'command', Message: 'kickConnectionId', Data: id});\r\n}\r\n\r\nfunction postSeekPlayer(ts) {\r\n    postJson({Type: 'command', Message: 'seekPlayer', Data: ts});\r\n}\r\n\r\nfunction postVolumeIncrement() {\r\n    postJson({Type: 'command', Message: 'volumeIncrement'});\r\n}\r\n\r\nfunction postVolumeDecrement() {\r\n    postJson({Type: 'command', Message: 'volumeDecrement'});\r\n}\r\n\r\nfunction postVideoPlay() {\r\n    postJson({Type: 'command', Message: 'playVideo'});\r\n}\r\n\r\nfunction postVideoPause() {\r\n    postJson({Type: 'command', Message: 'pauseVideo'});\r\n}\r\n\r\nfunction postVideoEject() {\r\n    postJson({Type: 'command', Message: 'ejectVideo'});\r\n}\r\n\r\nfunction postLightsChange(level) {\r\n    postJson({Type: 'command', Message: 'lightsChange', Data: level});\r\n}\r\n\r\n// utils\r\n\r\nfunction showInfo(info) {\r\n    switch (info[0]) {\r\n        case 'player_info':\r\n            return showPlayerInfo(info[1]);\r\n        case 'user_info':\r\n            return JSON.stringify(info);\r\n        default:\r\n            return info[1] ? JSON.stringify(info[1], null, 2) : '';\r\n    }\r\n}\r\n\r\nfunction showPlayerInfo(playerInfo) {\r\n    return '[' + playerInfo.map(info => {\r\n        return `(${info.Name}, ${info.ConnectionId})`;\r\n    }).join(' ') + ']';\r\n}\r\n\r\n//\r\n\r\nfunction ListItem(props) {\r\n    let {\r\n        selected,\r\n        handleClick,\r\n        inactive = false,\r\n        buttonClassSelected = '',\r\n        buttonClass = '',\r\n        buttonClassInactive = '',\r\n    } = props;\r\n\r\n    buttonClass = buttonClass ?\r\n            buttonClass :\r\n            'py-4 px-8 hover:bg-gray-800 active:bg-gray-900 hover:text-white rounded cursor-pointer flex flex-wrap content-center';\r\n    buttonClassSelected = buttonClassSelected ?\r\n            buttonClassSelected :\r\n            'py-4 px-8 bg-blue-700 text-white rounded cursor-pointer flex flex-wrap content-center';\r\n    buttonClassInactive = buttonClassInactive ?\r\n            buttonClassInactive :\r\n            'py-4 px-8 bg-gray-800 rounded cursor-pointer flex flex-wrap content-center';\r\n\r\n    if (inactive) {\r\n        return (\r\n                <div className={buttonClassInactive}>\r\n                    {props.children}\r\n                </div>\r\n        );\r\n    }\r\n\r\n    let className = selected ? buttonClassSelected : buttonClass;\r\n    return (\r\n            <Button className={className} handleClick={handleClick}>\r\n                {props.children}\r\n            </Button>\r\n    );\r\n}\r\n\r\nfunction SettingsList(props) {\r\n    return (\r\n            <div className={'space-y-1 px-2'}>\r\n                {props.children}\r\n            </div>);\r\n\r\n}\r\n\r\nfunction SettingsTitle(props) {\r\n    return <div\r\n            className={'text-white font-bold text-xl px-5 pt-5 pb-2'}>{props.children}</div>;\r\n}\r\n\r\nfunction JoinDeskButton(props) {\r\n    let {handleClick, char} = props;\r\n\r\n    return (\r\n            <Button className={roundButtonClass} handleClick={() => {\r\n                handleClick(char);\r\n            }}>\r\n            <span className={'w-full text-center'}>\r\n                {char}\r\n            </span>\r\n            </Button>\r\n    );\r\n}\r\n\r\nfunction ConnectedClient(props) {\r\n    let {info} = props;\r\n    let {Name, ConnectionId} = info;\r\n\r\n    const hostClass = 'bg-gray-800 rounded-full p-4 h-20 flex flex-wrap content-center';\r\n    const clientClass = 'bg-gray-800 active:bg-red-700 hover:bg-red-600 rounded-full p-4 cursor-pointer h-20 flex flex-wrap content-center';\r\n\r\n    if (ConnectionId === 0) {\r\n        return (\r\n                <div className={hostClass}>\r\n                    <div\r\n                            className={'flex content-center p-2 space-x-4'}>\r\n                        <div>\r\n                            <img className={'h-9 w-9'} src={ThinkingFace} alt={''}/>\r\n                        </div>\r\n                        <div>\r\n                            {Name}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n        );\r\n    } else {\r\n        return (\r\n                <Button className={clientClass} handleClick={() => {\r\n                    postKickConnectionId(ConnectionId);\r\n                }}>\r\n                    <div\r\n                            className={'flex content-center p-2 space-x-4'}>\r\n                        <div>\r\n                            <img className={'h-9 w-9'} src={ThinkingFace} alt={''}/>\r\n                        </div>\r\n                        <div>\r\n                            {Name}\r\n                        </div>\r\n                    </div>\r\n                </Button>\r\n        );\r\n\r\n    }\r\n\r\n}\r\n\r\nfunction InfoItem({imgSrc, title, slug, children}) {\r\n    return (\r\n            <div className={'flex w-full justify-between'}>\r\n                <div className={'flex w-auto'}>\r\n                    <div className={'flex flex-wrap content-center  p-2 mr-2'}>\r\n                        {imgSrc ?\r\n                                <img className={'h-9 w-9'} src={imgSrc} alt={''}/>\r\n                                : ''\r\n                        }\r\n                    </div>\r\n                    <div className={'my-auto'}>\r\n                        <div className={'text-xl'}>\r\n                            {title}\r\n                        </div>\r\n                        <div className={'text-gray-400'}>\r\n                            {slug}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                {children}\r\n            </div>\r\n    );\r\n}\r\n\r\nfunction MenuContent(props) {\r\n    let {name} = props;\r\n\r\n    return (\r\n            <div className={'text-white p-4 h-full pr-8'}>\r\n                {name ?\r\n                        <div className={'pb-8 text-xl'}>\r\n                            {name}\r\n                        </div>\r\n                        : ''}\r\n                <div className={'space-y-8'}>\r\n                    {props.children}\r\n                </div>\r\n            </div>\r\n    );\r\n\r\n}\r\n\r\nfunction LoadingHomePage() {\r\n    return <div className={'flex justify-center w-full flex-wrap'}>\r\n        <BounceLoader size={200} color={'#737373'}/>\r\n    </div>;\r\n}\r\n\r\nfunction ClientHomePage() {\r\n    return (\r\n            <div className={'flex'}>\r\n                <InfoItem title={'Connected'} slug={'You are connected to a host'}\r\n                          imgSrc={LinkImg}>\r\n                    <Button handleClick={postLeaveRoom}\r\n                            className={redButtonClass}>Exit</Button>\r\n                </InfoItem>\r\n            </div>\r\n    );\r\n}\r\n\r\nconst RoomInfo = observer(() => {\r\n    let {store} = useStore();\r\n\r\n    let handleCloseRoom = () => {\r\n        axios({\r\n            method: 'delete',\r\n            url: API_BASE + '/rooms/' + store._room_code,\r\n        }).then(r => {\r\n            if (r.status === 200) {\r\n                console.log(`deleted room ${store._room_code}`);\r\n            }\r\n        }).catch(console.log);\r\n        postCloseRoom();\r\n    };\r\n\r\n    let OpenRoom =\r\n            <InfoItem title={'Room'} slug={'Invite others'} imgSrc={DoorOpen}>\r\n                <Button className={greenButtonClass} handleClick={postOpenRoom}>\r\n                    Open Up\r\n                </Button>\r\n            </InfoItem>;\r\n\r\n    let CloseRoom =\r\n            <InfoItem title={'Room'} slug={'Ready to accept connections'}\r\n                      imgSrc={DoorOpen}>\r\n                <Button className={redButtonClass} handleClick={handleCloseRoom}>\r\n                    Close\r\n                </Button>\r\n            </InfoItem>;\r\n\r\n    const roomCodeCLass = 'text-5xl ';\r\n\r\n    if (store.room_open) {\r\n        return (\r\n                <React.Fragment>\r\n                    {CloseRoom}\r\n                    <InfoItem title={'Desk Code'}\r\n                              slug={'People who have this can join you'}\r\n                              imgSrc={LinkImg}>\r\n                        <div className={'h-20 flex flex-wrap content-center'}>\r\n                            {store.room_code ?\r\n                                    <div className={roomCodeCLass}>{store.room_code}</div>\r\n\r\n                                    :\r\n                                    <div className={grayButtonClassInert}><BeatLoader size={8}\r\n                                                                                      color={'#737373'}/>\r\n                                    </div>\r\n                            }\r\n                        </div>\r\n                    </InfoItem>\r\n                </React.Fragment>\r\n        );\r\n    } else {\r\n        return (\r\n                <React.Fragment>\r\n                    {OpenRoom}\r\n                </React.Fragment>\r\n        );\r\n    }\r\n\r\n});\r\n\r\nconst HostHomePage = observer(() => {\r\n\r\n    let {store} = useStore();\r\n\r\n    return (\r\n            <React.Fragment>\r\n                <RoomInfo/>\r\n                {store.player_info.length > 0 && store.room_open ?\r\n                        <React.Fragment>\r\n                            <div className={'text-xl'}>People in Your Room</div>\r\n                            <div className={'flex space-x-2'}>\r\n                                {store.player_info.map(info => <ConnectedClient info={info}/>)}\r\n                            </div>\r\n                        </React.Fragment>\r\n                        :\r\n                        ''}\r\n            </React.Fragment>\r\n    );\r\n\r\n});\r\n\r\n//\r\n\r\nconst PlayerPage = observer(() => {\r\n    const {store} = useStore();\r\n    //const store = {media_info: {Active:true, Scrub: 10, Duration: 33}}\r\n    const ref = useRef(null);\r\n\r\n    let media = store.media_info;\r\n\r\n    const pct = 100 * media.Scrub / media.Duration;\r\n\r\n    if (!store.media_info.Active) {\r\n        return '';\r\n    }\r\n\r\n    function handleClick(e) {\r\n        let pct = (e.clientX - ref.current.offsetLeft) / ref.current.offsetWidth;\r\n        let ts = pct * store.media_info.Duration;\r\n        postSeekPlayer(ts);\r\n    }\r\n\r\n    function VolumeDecrement() {\r\n        postVolumeDecrement();\r\n    }\r\n\r\n    function VolumeIncrement() {\r\n        postVolumeIncrement();\r\n    }\r\n\r\n    function handlePause() {\r\n        postVideoPause();\r\n    }\r\n\r\n    function handlePlay() {\r\n        postVideoPlay();\r\n    }\r\n\r\n    function handleEject() {\r\n        postVideoEject();\r\n    }\r\n\r\n    let mediaClass = 'flex rounded h-16 w-24';\r\n    mediaClass = grayButtonClass;\r\n\r\n    return <MenuContent name={'Player'}>\r\n        <div>Video Scrub</div>\r\n        <div className={'flex space-x-2'}>\r\n            {store.media_info.Paused ?\r\n                    <KeySVG handleClick={handlePlay} imgSrc={PlayImg}/>\r\n                    :\r\n                    <KeySVG handleClick={handlePause} imgSrc={PauseImg}/>\r\n            }\r\n\r\n            <div ref={ref} onPointerDown={handleClick}\r\n                 className={'relative bg-gray-600 rounded w-full'}>\r\n\r\n                <div style={{width: pct + '%'}}\r\n                     className={'h-full bg-gray-400 rounded'}/>\r\n\r\n            </div>\r\n            <KeySVG handleClick={handleEject} imgSrc={EjectImg}\r\n                    className={mediaClass}/>\r\n\r\n        </div>\r\n        <div>Volume {parseInt(100 * media.VolumeLevel)}</div>\r\n        <div className={'flex space-x-2'}>\r\n            <KeySVG handleClick={VolumeDecrement} className={mediaClass}\r\n                    imgSrc={MinusImg}/>\r\n            <KeySVG handleClick={VolumeIncrement} className={mediaClass}\r\n                    imgSrc={PlusImg}/>\r\n        </div>\r\n    </MenuContent>;\r\n\r\n});\r\n\r\nconst HomePage = observer(() => {\r\n\r\n    let {store} = useStore();\r\n\r\n    let Inner;\r\n\r\n    switch (store.network_state) {\r\n        case 'Neutral':\r\n        case 'HostWaiting':\r\n        case 'Hosting':\r\n            Inner = <HostHomePage/>;\r\n            break;\r\n        case 'ClientConnected':\r\n            Inner = <ClientHomePage/>;\r\n            break;\r\n        default:\r\n            Inner = <LoadingHomePage/>;\r\n            break;\r\n    }\r\n\r\n    return (\r\n            <MenuContent name={'Home'}>\r\n                {Inner}\r\n            </MenuContent>\r\n    );\r\n});\r\n\r\nlet JoinDeskPage = observer((props) => {\r\n    let {navHome} = props;\r\n    let {store} = useStore();\r\n\r\n    let [code, setCode] = useState('');\r\n    let [posting, setPosting] = useState(false);\r\n    let [message, setMessage] = useState('');\r\n\r\n    useEffect(() => {\r\n        if (posting) return;\r\n\r\n        if (code.length === 4) {\r\n            setPosting(true);\r\n            let url = API_BASE + `/rooms/${code}`;\r\n            axios({\r\n                method: 'get',\r\n                url: url,\r\n            }).then(response => {\r\n                console.log(response.data);\r\n                console.log(store.ip_address, store.port);\r\n                if (response.data.ip_address.toString() ===\r\n                        store.ip_address.toString() &&\r\n                        response.data.port.toString() === store.port.toString()) {\r\n                    // trying to join your own room\r\n                    setMessage(`Could not find ${code} try again`);\r\n                    setCode('');\r\n                    setPosting(false);\r\n                } else {\r\n                    postJoinRoom(response.data);\r\n                    setCode('');\r\n                    setPosting(false);\r\n                    navHome();\r\n                }\r\n            }).catch(err => {\r\n                console.log(err);\r\n                setMessage(`Could not find ${code} try again`);\r\n                setCode('');\r\n                setPosting(false);\r\n            });\r\n        }\r\n    }, [code, navHome, posting, store.ip_address, store.port]);\r\n\r\n    function handleClick(char) {\r\n        setMessage('');\r\n        switch (code.length) {\r\n            case 4:\r\n                setCode(char);\r\n                break;\r\n            default:\r\n                setCode(code + char);\r\n                break;\r\n        }\r\n    }\r\n\r\n    function handleBackspace() {\r\n        if (code.length > 0) {\r\n            setCode(code.slice(0, code.length - 1));\r\n        }\r\n    }\r\n\r\n    return (\r\n            <MenuContent name={'Join Desk'}>\r\n                <div className={'flex flex-wrap w-full content-center'}>\r\n                    <div className={' w-1/2'}>\r\n                        <div className={'text-xl'}>\r\n                            {message}\r\n                        </div>\r\n                        <div\r\n                                className={'text-9xl h-full flex flex-wrap content-center justify-center'}>\r\n                            {code.length < 4 ? code : ''}\r\n                        </div>\r\n                    </div>\r\n                    <div className={'p-2 rounded space-y-4 text-2xl'}>\r\n                        <div className={'flex space-x-4'}>\r\n                            <JoinDeskButton handleClick={handleClick}\r\n                                            char={'1'}/>\r\n                            <JoinDeskButton handleClick={handleClick}\r\n                                            char={'2'}/>\r\n                            <JoinDeskButton handleClick={handleClick}\r\n                                            char={'3'}/>\r\n                        </div>\r\n                        <div className={'flex space-x-4'}>\r\n                            <JoinDeskButton handleClick={handleClick}\r\n                                            char={'4'}/>\r\n                            <JoinDeskButton handleClick={handleClick}\r\n                                            char={'5'}/>\r\n                            <JoinDeskButton handleClick={handleClick}\r\n                                            char={'6'}/>\r\n                        </div>\r\n                        <div className={'flex space-x-4'}>\r\n                            <JoinDeskButton handleClick={handleClick}\r\n                                            char={'7'}/>\r\n                            <JoinDeskButton handleClick={handleClick}\r\n                                            char={'8'}/>\r\n                            <JoinDeskButton handleClick={handleClick}\r\n                                            char={'9'}/>\r\n                        </div>\r\n                        <div className={'flex flex-wrap w-full justify-around'}>\r\n                            <JoinDeskButton\r\n                                    handleClick={handleBackspace} char={'<'}/>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </MenuContent>\r\n    );\r\n});\r\n\r\nfunction VideosPage() {\r\n    return <MenuContent name={'Videos'}>\r\n        <InfoItem imgSrc={YtImg} title={'YouTube'}\r\n                  slug={'Find videos to watch on the big screen'}>\r\n            <Button className={greenButtonClass} handleClick={postBrowseYouTube}>\r\n                Browse\r\n            </Button>\r\n        </InfoItem>\r\n    </MenuContent>;\r\n}\r\n\r\nconst DebugPage = observer(() => {\r\n    let {store} = useStore();\r\n\r\n    let addFakeIpPort = action((store) => {\r\n        store.ip_address = 1234;\r\n        store.port = 4321;\r\n    });\r\n    let rmFakeIpPort = action(store => {\r\n        store.ip_address = null;\r\n        store.port = null;\r\n    });\r\n\r\n    let setNetState = action((store, netState) => {\r\n        store.network_state = netState;\r\n    });\r\n\r\n    let addFakeClient = action(store => {\r\n        if (store.player_info.length > 0) {\r\n            store.player_info.push({Name: 'cam', ConnectionId: 1});\r\n        } else {\r\n            store.player_info.push(\r\n                    {Name: 'loremIpsumLoremIpsumLorem', ConnectionId: 0});\r\n        }\r\n    });\r\n    let rmFakeClient = action(store => {\r\n        store.player_info.pop();\r\n    });\r\n\r\n    let toggleRoomOpen = action(store => {\r\n        store.room_open = !store.room_open;\r\n    });\r\n\r\n    let addFakeVideoPlayerPaused = () => {\r\n        store.media_info = {\r\n            Active: true,\r\n            Name: 'Video Name',\r\n            Paused: true,\r\n            Scrub: 20,\r\n            Duration: 60,\r\n            VolumeLevel: 0.5,\r\n        };\r\n    };\r\n\r\n    let addFakeVideoPlayerPlaying = () => {\r\n        store.media_info = {\r\n            Active: true,\r\n            Name: 'Video Name',\r\n            Paused: false,\r\n            Scrub: 20,\r\n            Duration: 60,\r\n            VolumeLevel: 0.5,\r\n        };\r\n    };\r\n\r\n    let rmFakeVideoPlayer = () => {\r\n        store.media_info = {\r\n            Active: false,\r\n            Name: 'None',\r\n            Paused: true,\r\n            Scrub: 0,\r\n            Duration: 1,\r\n            VolumeLevel: 0,\r\n        };\r\n    };\r\n\r\n    let containerClass = 'flex flex-wrap';\r\n\r\n    return (\r\n            <MenuContent name={'Debug'}>\r\n                <div className={'flex'}>\r\n\r\n                    <div className={'w-1/2'}>\r\n                        <ul>\r\n                            {Object.entries(store).map(info => {\r\n                                return <li className={'mb-2'} key={info[0]}>\r\n                                    <span className={'font-bold'}>{info[0]}</span>{': '}<span\r\n                                        className={'text-gray-400'}>{showInfo(info)}</span>\r\n                                </li>;\r\n                            })}\r\n                        </ul>\r\n                    </div>\r\n\r\n                    <div className={'w-1/2'}>\r\n\r\n                        <div>Host State</div>\r\n                        <div className={containerClass}>\r\n                            <Button handleClick={() => {\r\n                                setNetState(store, 'Neutral');\r\n                            }} className={grayButtonClass}>Neutral\r\n                            </Button>\r\n                            <Button handleClick={() => {\r\n                                setNetState(store, 'HostWaiting');\r\n                            }} className={grayButtonClass}>HostWaiting\r\n                            </Button>\r\n                            <Button handleClick={() => {\r\n                                setNetState(store, 'Hosting');\r\n                            }} className={grayButtonClass}>Hosting\r\n                            </Button>\r\n                            <Button handleClick={() => {\r\n                                setNetState(store, 'ClientConnected');\r\n                            }} className={grayButtonClass}>ClientConnected\r\n                            </Button>\r\n\r\n\r\n                        </div>\r\n\r\n                        <div>Connection</div>\r\n                        <div className={containerClass}>\r\n                            <Button className={grayButtonClass} handleClick={() => {\r\n                                addFakeIpPort(store);\r\n                            }}>+ fake ip/port\r\n                            </Button>\r\n                            <Button className={grayButtonClass} handleClick={() => {\r\n                                rmFakeIpPort(store);\r\n                            }}>- fake ip/port\r\n                            </Button>\r\n                            <Button handleClick={() => {\r\n                                addFakeClient(store);\r\n                            }} className={grayButtonClass}>+ fake client\r\n                            </Button>\r\n                            <Button handleClick={() => {\r\n                                rmFakeClient(store);\r\n                            }} className={grayButtonClass}>- fake client\r\n                            </Button>\r\n                        </div>\r\n\r\n                        <div>Room Status</div>\r\n\r\n                        <div className={containerClass}>\r\n                            <Button handleClick={() => {\r\n                                toggleRoomOpen(store);\r\n                            }} className={grayButtonClass}>\r\n                                toggle\r\n                            </Button>\r\n                        </div>\r\n                        <div>Player</div>\r\n                        <div className={containerClass}>\r\n                            <Button handleClick={rmFakeVideoPlayer}\r\n                                    className={grayButtonClass}>none</Button>\r\n                            <Button handleClick={addFakeVideoPlayerPlaying}\r\n                                    className={grayButtonClass}>playing</Button>\r\n                            <Button handleClick={addFakeVideoPlayerPaused}\r\n                                    className={grayButtonClass}>paused</Button>\r\n                        </div>\r\n\r\n                    </div>\r\n\r\n                </div>\r\n            </MenuContent>\r\n    );\r\n});\r\n\r\nconst SettingsPage = observer(() => {\r\n    let {store} = useStore();\r\n\r\n    function handleClickVibes() {\r\n        postLightsChange('vibes');\r\n    }\r\n\r\n    function handleClickBright() {\r\n        postLightsChange('bright');\r\n    }\r\n\r\n    function handleClickPinchPull() {\r\n        postTogglePinchPull();\r\n    }\r\n\r\n    function handleClickBlockBreak() {\r\n        postToggleBlockBreak();\r\n\r\n    }\r\n\r\n    return <MenuContent name={'Settings'}>\r\n        <InfoItem title={'Lights'} slug={'Set the mood'}\r\n                  imgSrc={LightImg}>\r\n            <div className={'flex space-x-2'}>\r\n                <Button handleClick={handleClickVibes}\r\n                        className={grayButtonClass}>Vibes</Button>\r\n                <Button handleClick={handleClickBright}\r\n                        className={grayButtonClass}>Bright</Button>\r\n\r\n            </div>\r\n        </InfoItem>\r\n        <div className={'text-xl'}>\r\n            Experimental\r\n        </div>\r\n        <InfoItem title={'Pinch Pull'}\r\n                  slug={'Point at object with pinched fingers'}\r\n        >\r\n            <ToggleButton\r\n                    classEnabled={greenButtonClass}\r\n                    classDisabled={grayButtonClass}\r\n                    enabled={store.experimental_info.PinchPullEnabled}\r\n                    handleClick={handleClickPinchPull}\r\n            >\r\n                toggle\r\n            </ToggleButton>\r\n        </InfoItem>\r\n        <InfoItem title={'Block Break'}\r\n                  slug={'Delete blocks by touching them (right index finger)'}>\r\n            <ToggleButton\r\n                    classEnabled={greenButtonClass}\r\n                    classDisabled={grayButtonClass}\r\n                    enabled={store.experimental_info.BlockBreakEnabled}\r\n                    handleClick={handleClickBlockBreak}\r\n            >\r\n                toggle\r\n            </ToggleButton>\r\n        </InfoItem>\r\n        <div className={'text-xl'}>\r\n            Version: {store.app_info.Version}{'b'}{store.app_info.BuildId}\r\n        </div>\r\n    </MenuContent>;\r\n});\r\n\r\n//\r\n\r\nlet Menu = observer(() => {\r\n\r\n    let {store, pushStore} = useStore();\r\n\r\n    let [active, setActive] = useState(0);\r\n\r\n    let navHome = () => {\r\n        setActive(0);\r\n    };\r\n\r\n    useEffect(() => {\r\n        autorun(() => {\r\n            // remove room code if\r\n            // DEVELOPMENT || PRODUCTION\r\n            if (store.room_code &&\r\n                    (!store.ip_address || !store.port || !store.room_open)) {\r\n                console.log('rm room code');\r\n                pushStore({room_code: null});\r\n                return;\r\n            }\r\n\r\n            // send ip/port out for a room code\r\n            if (store.room_open && !store.room_code && !store.loading_room_code &&\r\n                    store.ip_address &&\r\n                    store.port) {\r\n                console.log('fetch room code');\r\n                pushStore({loading_room_code: true});\r\n                let url = API_BASE + '/rooms';\r\n                axios(\r\n                        {\r\n                            method: 'post',\r\n                            url: url,\r\n                            data: `ip_address=${store.ip_address}&port=${store.port}`,\r\n                            header: {'content-type': 'application/x-www-form-urlencoded'},\r\n                        },\r\n                ).then(response => {\r\n                    pushStore({room_code: response.data.tag, loading_room_code: false});\r\n                }).catch(err => {\r\n                    console.log(err);\r\n                    pushStore({loading_room_code: false});\r\n                });\r\n            }\r\n        });\r\n\r\n    });\r\n\r\n    useEffect(() => {\r\n        return () => {\r\n            pushStore({room_code: null});\r\n        };\r\n    }, [pushStore]);\r\n\r\n    let pages = [\r\n        {name: 'Home', component: HomePage},\r\n        {name: 'Join Desk', component: JoinDeskPage},\r\n        {name: 'Videos', component: VideosPage},\r\n        {name: 'Settings', component: SettingsPage},\r\n    ];\r\n\r\n    if (store.media_info.Active) {\r\n        pages.push({name: 'Player', component: PlayerPage});\r\n\r\n    }\r\n\r\n    if (store.build === 'DEVELOPMENT') {\r\n        pages.push({name: 'Debug', component: DebugPage});\r\n    }\r\n\r\n    let SelectedPage;\r\n    if (active > pages.length - 1) {\r\n        setActive(0);\r\n        SelectedPage = pages[0].component;\r\n    } else {\r\n        SelectedPage = pages[active].component;\r\n    }\r\n\r\n    let joinDeskActive = store.network_state === 'Hosting' && !store._room_open;\r\n\r\n    if (!store.app_info.MicrophonePermission) {\r\n        return <NoMicPage/>;\r\n    }\r\n\r\n    return (\r\n            <div className={'flex text-lg text-gray-500 h-full static'}>\r\n                {!store.is_internet_good ?\r\n                        <div className={'text-2xl p-4 flex flex-wrap content-center absolute text-white bg-red-800 bottom-2 right-2 z-20 rounded'}>\r\n                            Internet Error: Check Your Connection\r\n                        </div>\r\n                        : ''\r\n\r\n                }\r\n                <div className={'w-4/12 bg-black overflow-auto scroll-host static'}>\r\n                    <div className={'w-4/12 bg-black fixed'}>\r\n                        <SettingsTitle>\r\n                            Menu\r\n                        </SettingsTitle>\r\n                    </div>\r\n\r\n                    <div className={'h-16'}/>\r\n                    <SettingsList>\r\n                        {pages.map((info, i) => {\r\n                            if (info.name.toLowerCase() === 'join desk' && !joinDeskActive) {\r\n                                return <ListItem key={info.name}\r\n                                                 inactive={true}>{info.name}</ListItem>;\r\n                            }\r\n                            if (info.name.toLowerCase() === 'player') {\r\n                                const buttonClass = 'text-white py-4 px-8 hover:bg-gray-800 active:bg-gray-900 hover:text-white rounded cursor-pointer flex flex-wrap content-center border-4 border-green-400';\r\n                                const buttonClassSelected = 'py-4 px-8 bg-blue-700 text-white rounded cursor-pointer flex flex-wrap content-center border-4 border-green-400';\r\n\r\n                                return <ListItem\r\n                                        buttonClass={buttonClass}\r\n                                        buttonClassSelected={buttonClassSelected}\r\n                                        key={info.name} handleClick={() => {\r\n                                    setActive(i);\r\n                                }} selected={active === i}>{info.name}</ListItem>;\r\n\r\n                            }\r\n                            return <ListItem key={info.name} handleClick={() => {\r\n                                setActive(i);\r\n                            }} selected={active === i}>{info.name}</ListItem>;\r\n                        })}\r\n                    </SettingsList>\r\n                    <div className={'w-full p-2'}>\r\n                        <ExitButton/>\r\n                    </div>\r\n                </div>\r\n                <div className={'bg-gray-900 z-10 w-full overflow-auto scroll-host'}>\r\n                    <SelectedPage navHome={navHome}/>\r\n                </div>\r\n            </div>\r\n    );\r\n});\r\n\r\nfunction ExitButton() {\r\n\r\n    function handleClick() {\r\n        postCloseMenu();\r\n    }\r\n\r\n    let buttonClass = 'rounded h-16 py-4 px-8 bg-red-800 hover:bg-red-700 active:bg-red-600 hover:text-white cursor-pointer flex flex-wrap content-center';\r\n\r\n    return (\r\n            <ListItem buttonClass={buttonClass} handleClick={handleClick}\r\n                      className={'text-white'}>\r\n                <span className={'text-white'}>Close Menu</span>\r\n            </ListItem>\r\n    );\r\n\r\n}\r\n\r\nfunction NoMicPage() {\r\n\r\n    const className = 'py-4 px-8 font-bold bg-gray-800 active:bg-gray-700 hover:bg-gray-600 rounded cursor-pointer flex flex-wrap content-center';\r\n\r\n    function handleClick() {\r\n        postRequestMicrophone();\r\n    }\r\n\r\n    return (\r\n            <div className={'flex flex-wrap content-center justify-center bg-black w-full h-screen'}>\r\n                <div className={''}>\r\n                    <div className={'flex justify-center'}>\r\n                        <div className={'text-2xl p-4 flex flex-wrap content-center text-white bg-red-800 rounded'}>\r\n                            No Access to Microphone\r\n                        </div>\r\n                    </div>\r\n                    <div className={'h-4'}/>\r\n                    <div className={'flex justify-center'}>\r\n                        <div className={'text-2xl font-normal text-white '}>\r\n                            <Button className={className} handleClick={handleClick}>Request</Button>\r\n                        </div>\r\n                    </div>\r\n                    <div className={'h-4'}/>\r\n                    <div className={'flex text-white'}>\r\n                        <span>If that does not work, check your app permissions under </span>\r\n                        <img src={DotsImg} alt={''}/>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n    );\r\n\r\n}\r\n\r\nexport default Menu;\r\n","import React, {useState} from 'react';\nimport {Shift, SymbolsOrNum, NumsOrChar, Backspace, Enter, KeyChar, Space} from '../components/Keys';\n\nfunction Keyboard() {\n  let [shift, setShift] = useState(false);\n  let [level, setLevel] = useState(0);\n  let level0 = (\n      <React.Fragment>\n        <div className={'flex space-x-2 justify-center'}>\n          <KeyChar shift={shift} char={'q'}/>\n          <KeyChar shift={shift} char={'w'}/>\n          <KeyChar shift={shift} char={'e'}/>\n          <KeyChar shift={shift} char={'r'}/>\n          <KeyChar shift={shift} char={'t'}/>\n          <KeyChar shift={shift} char={'y'}/>\n          <KeyChar shift={shift} char={'u'}/>\n          <KeyChar shift={shift} char={'i'}/>\n          <KeyChar shift={shift} char={'o'}/>\n          <KeyChar shift={shift} char={'p'}/>\n          <Backspace/>\n        </div>\n        <div className={'flex space-x-2 justify-end'}>\n          <KeyChar shift={shift} char={'a'}/>\n          <KeyChar shift={shift} char={'s'}/>\n          <KeyChar shift={shift} char={'d'}/>\n          <KeyChar shift={shift} char={'f'}/>\n          <KeyChar shift={shift} char={'g'}/>\n          <KeyChar shift={shift} char={'h'}/>\n          <KeyChar shift={shift} char={'j'}/>\n          <KeyChar shift={shift} char={'k'}/>\n          <KeyChar shift={shift} char={'l'}/>\n          <Enter/>\n        </div>\n        <div className={'flex space-x-2 justify-center'}>\n          <Shift shift={shift} toggleShift={() => {\n            setShift(!shift);\n          }}/>\n          <KeyChar shift={shift} char={'z'}/>\n          <KeyChar shift={shift} char={'x'}/>\n          <KeyChar shift={shift} char={'c'}/>\n          <KeyChar shift={shift} char={'v'}/>\n          <KeyChar shift={shift} char={'b'}/>\n          <KeyChar shift={shift} char={'n'}/>\n          <KeyChar shift={shift} char={'m'}/>\n          <KeyChar shift={shift} char={','}/>\n          <KeyChar shift={shift} char={'.'}/>\n          <Shift shift={shift} toggleShift={() => {\n            setShift(!shift);\n          }}/>\n        </div>\n      </React.Fragment>\n  );\n\n  let level1 = (\n      <React.Fragment>\n        <div className={'flex space-x-2 justify-end'}>\n          <KeyChar shift={shift} char={'@'}/>\n          <KeyChar shift={shift} char={'#'}/>\n          <KeyChar shift={shift} char={'$'}/>\n          <KeyChar shift={shift} char={'&'}/>\n          <KeyChar shift={shift} char={'*'}/>\n          <KeyChar shift={shift} char={'('}/>\n          <KeyChar shift={shift} char={')'}/>\n          <KeyChar shift={shift} char={'\\''}/>\n          <KeyChar shift={shift} char={'\"'}/>\n          <Enter/>\n        </div>\n        <div className={'flex space-x-2 justify-end'}>\n          <SymbolsOrNum level={level} handleClick={handleClickSymbolOrNum}/>\n          <KeyChar shift={shift} char={'%'}/>\n          <KeyChar shift={shift} char={'-'}/>\n          <KeyChar shift={shift} char={'+'}/>\n          <KeyChar shift={shift} char={'='}/>\n          <KeyChar shift={shift} char={'/'}/>\n          <KeyChar shift={shift} char={';'}/>\n          <KeyChar shift={shift} char={':'}/>\n          <KeyChar shift={shift} char={','}/>\n          <KeyChar shift={shift} char={'.'}/>\n          <SymbolsOrNum level={level} handleClick={handleClickSymbolOrNum}/>\n        </div>\n      </React.Fragment>\n  );\n  let level12 = (\n      <React.Fragment>\n        <div className={'flex space-x-2 justify-center'}>\n          <KeyChar shift={shift} char={'1'}/>\n          <KeyChar shift={shift} char={'2'}/>\n          <KeyChar shift={shift} char={'3'}/>\n          <KeyChar shift={shift} char={'4'}/>\n          <KeyChar shift={shift} char={'5'}/>\n          <KeyChar shift={shift} char={'6'}/>\n          <KeyChar shift={shift} char={'7'}/>\n          <KeyChar shift={shift} char={'8'}/>\n          <KeyChar shift={shift} char={'9'}/>\n          <KeyChar shift={shift} char={'0'}/>\n          <Backspace/>\n        </div>\n      </React.Fragment>\n  );\n  let level2 = (\n      <React.Fragment>\n        <div className={'flex space-x-2 justify-end'}>\n          <KeyChar shift={shift} char={''}/>\n          <KeyChar shift={shift} char={''}/>\n          <KeyChar shift={shift} char={''}/>\n          <KeyChar shift={shift} char={'_'}/>\n          <KeyChar shift={shift} char={'^'}/>\n          <KeyChar shift={shift} char={'['}/>\n          <KeyChar shift={shift} char={']'}/>\n          <KeyChar shift={shift} char={'{'}/>\n          <KeyChar shift={shift} char={'}'}/>\n          <Enter/>\n        </div>\n        <div className={'flex space-x-2 justify-center'}>\n          <SymbolsOrNum level={level} handleClick={handleClickSymbolOrNum}/>\n          <KeyChar shift={shift} char={''}/>\n          <KeyChar shift={shift} char={'|'}/>\n          <KeyChar shift={shift} char={'~'}/>\n          <KeyChar shift={shift} char={''}/>\n          <KeyChar shift={shift} char={'\\\\'}/>\n          <KeyChar shift={shift} char={'<'}/>\n          <KeyChar shift={shift} char={'>'}/>\n          <KeyChar shift={shift} char={'!'}/>\n          <KeyChar shift={shift} char={'?'}/>\n          <SymbolsOrNum level={level} handleClick={handleClickSymbolOrNum}/>\n        </div>\n      </React.Fragment>\n  );\n\n  function handleClickSymbolOrNum() {\n    switch (level) {\n      case 1:\n        setLevel(2);\n        break;\n      default:\n        setLevel(1);\n    }\n  }\n\n  function handleClickNumOrChar() {\n    switch (level) {\n      case 0:\n        setLevel(1);\n        break;\n      default:\n        setLevel(0);\n        break;\n    }\n\n  }\n\n  return (\n      <div\n          className={'w-full h-screen bg-black flex flex-wrap justify-center content-center'}>\n        <div className={'space-y-2'}>\n\n          {level === 0 ? level0 : ''}\n          {level === 1 || level === 2 ? level12 : ''}\n          {level === 1 ? level1 : ''}\n          {level === 2 ? level2 : ''}\n          <div className={'w-full flex space-x-2 justify-between'}>\n            <NumsOrChar level={level} handleClick={handleClickNumOrChar}/>\n            <Space/>\n            <div className={'flex space-x-2'}>\n              <NumsOrChar level={level} handleClick={handleClickNumOrChar}/>\n            </div>\n          </div>\n        </div>\n\n      </div>\n  );\n}\n\nexport default Keyboard;","export default __webpack_public_path__ + \"static/media/close.0769b092.svg\";","export default __webpack_public_path__ + \"static/media/back.d3a137ff.svg\";","export default __webpack_public_path__ + \"static/media/forward.949d2099.svg\";","export default __webpack_public_path__ + \"static/media/keyboard.caceef28.svg\";","export default __webpack_public_path__ + \"static/media/keyboard-dismiss.24998ccf.svg\";","import React, {useState} from 'react';\r\nimport CloseImg from '../static/close.svg';\r\nimport BackImg from '../static/back.svg';\r\nimport ForwardImg from '../static/forward.svg';\r\nimport KeyBoardImg from '../static/keyboard.svg';\r\nimport KeyBoardDismissImg from '../static/keyboard-dismiss.svg';\r\nimport {postJson} from '../utilities';\r\nimport {KeySVG} from '../components/Keys';\r\n\r\nfunction postCommand(message) {\r\n  console.log(message);\r\n  postJson({Type: 'command', Message: message});\r\n}\r\n\r\nfunction KeyboardButton(props) {\r\n  let {kbActive, handleClick} = props;\r\n\r\n  return (\r\n      <div className={'w-full flex justify-center'}>\r\n        <KeySVG handleClick={handleClick}\r\n                imgSrc={kbActive ? KeyBoardDismissImg : KeyBoardImg}/>\r\n      </div>\r\n\r\n  );\r\n\r\n}\r\n\r\nfunction WebNav() {\r\n\r\n  let [kbActive, setKbActive] = useState(false);\r\n\r\n  let closeButtonClass = 'bg-red-800 active:bg-red-700 hover:bg-red-600 rounded cursor-pointer w-20 h-20 flex flex-wrap content-center';\r\n\r\n  let handleClose = () => {\r\n    postCommand('closeWeb');\r\n  };\r\n\r\n  let handleKeyboardButtonClick = () => {\r\n    kbActive ? postCommand('dismissKeyboard') : postCommand('spawnKeyboard');\r\n    setKbActive(!kbActive);\r\n  };\r\n\r\n  return (\r\n      <div\r\n          className={'w-full h-screen bg-black flex flex-wrap content-center justify-center'}>\r\n        <div className={'space-y-2 mb-2'}>\r\n          <div className={'w-full flex justify-center'}>\r\n            <KeySVG handleClick={handleClose} className={closeButtonClass}\r\n                    imgSrc={CloseImg}/>\r\n          </div>\r\n          <div className={'flex space-x-2'}>\r\n            <KeySVG imgSrc={BackImg} handleClick={\r\n              () => {\r\n                postCommand('navBack');\r\n              }\r\n            }/>\r\n            <KeySVG imgSrc={ForwardImg} handleClick={() => {\r\n              postCommand('navForward');\r\n            }}/>\r\n          </div>\r\n          <KeyboardButton kbActive={kbActive}\r\n                          handleClick={handleKeyboardButtonClick}/>\r\n        </div>\r\n      </div>\r\n  );\r\n}\r\n\r\nexport default WebNav;","import React from 'react';\r\nimport {\r\n    Link,\r\n    MemoryRouter as Router,\r\n    Route,\r\n    Switch,\r\n    useHistory,\r\n} from 'react-router-dom';\r\nimport YouTube from './pages/YouTube';\r\nimport Spring from './pages/Spring';\r\nimport Twitch from './pages/Twitch';\r\nimport Menu from './pages/Menu';\r\nimport Keyboard from './pages/Keyboard';\r\nimport WebNav from './pages/WebNav';\r\nimport {postJson} from './utilities';\r\nimport {observer} from 'mobx-react-lite';\r\nimport {useStore} from './DataProvider';\r\nimport {BounceLoader} from 'react-spinners';\r\n\r\nfunction postListenersReady() {\r\n    postJson(\r\n            {Type: 'event', Message: 'listenersReady', Data: new Date().getTime()});\r\n\r\n}\r\n\r\nfunction genNavListeners(history) {\r\n\r\n    function _navListeners(event) {\r\n\r\n        let json = JSON.parse(event.data);\r\n\r\n        if (json.type !== 'nav') return;\r\n\r\n        console.log('asdf');\r\n\r\n        switch (json.command) {\r\n            case 'push':\r\n                console.log('command: nav ' + json.path);\r\n                history.push(json.path);\r\n                break;\r\n            default:\r\n                console.log(\r\n                        'command: not handled (navListeners) ' + JSON.stringify(json));\r\n                break;\r\n        }\r\n    }\r\n\r\n    return _navListeners;\r\n}\r\n\r\nconst Boot = observer(() => {\r\n    let {store} = useStore();\r\n    console.log('Boot');\r\n\r\n    let history = useHistory();\r\n\r\n    let navListeners = genNavListeners(history);\r\n\r\n    if (window.vuplex != null) {\r\n\r\n        console.log('bonsai: vuplex is not null -> navListeners');\r\n        window.vuplex.addEventListener('message', navListeners);\r\n        postListenersReady();\r\n\r\n    } else {\r\n        console.log('bonsai: vuplex is null');\r\n        window.addEventListener('vuplexready', _ => {\r\n\r\n            console.log('bonsai: vuplexready -> navListeners');\r\n            window.vuplex.addEventListener('message', navListeners);\r\n            postListenersReady();\r\n\r\n        });\r\n    }\r\n\r\n    function handleKeyPress(e) {\r\n        if (e.key === 'x') {\r\n            store.build = 'DEVELOPMENT';\r\n            //store.is_internet_good = true;\r\n        }\r\n    }\r\n\r\n    if (store.build === 'DEVELOPMENT') {\r\n        return (\r\n                <div>\r\n                    Boot\r\n                    <ul>\r\n                        <li>\r\n                            <Link\r\n                                    to={'/youtube_test/qEfPBt9dU60/19.02890180001912?x=480&y=360'}>youtube_test\r\n                                video</Link>\r\n                        </li>\r\n                        <li>\r\n                            <Link to={'/spring'}>spring</Link>\r\n                        </li>\r\n                        <li>\r\n                            <Link to={'/twitch'}>twitch</Link>\r\n                        </li>\r\n                        <li>\r\n                            <Link to={'/menu'}>menu</Link>\r\n                        </li>\r\n                        <li>\r\n                            <Link to={'/home'}>home</Link>\r\n                        </li>\r\n                        <li>\r\n                            <Link to={'/keyboard'}>keyboard</Link>\r\n                        </li>\r\n                        <li>\r\n                            <Link to={'/webnav'}>webnav</Link>\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n        );\r\n    } else {\r\n        return <div\r\n                onKeyDown={handleKeyPress}\r\n                tabIndex={0}\r\n                className={'h-screen bg-gray-900 flex flex-wrap content-center justify-center w-full flex-wrap'}>\r\n            <BounceLoader size={200} color={'#737373'}/>\r\n        </div>;\r\n    }\r\n\r\n});\r\n\r\nfunction Home() {\r\n    return <div className={'w-full h-full bg-gray-900'}></div>;\r\n}\r\n\r\nfunction App() {\r\n    console.log('App');\r\n    return (\r\n            <Router>\r\n                <div className={'h-screen text-green-400 select-none'}>\r\n                    <Switch>\r\n\r\n                        <Route path={'/home'} component={Home}/>\r\n\r\n                        <Route path={'/spring'} component={Spring}/>\r\n\r\n                        <Route path={'/twitch'} component={Twitch}/>\r\n\r\n                        <Route path={'/menu'} component={Menu}/>\r\n\r\n                        <Route path={'/keyboard'} component={Keyboard}/>\r\n\r\n                        <Route path={'/webnav'} component={WebNav}/>\r\n\r\n                        <Route path={'/youtube/:id/:timeStamp'} component={YouTube}/>\r\n\r\n                        <Route path={'/youtube_test/:id/:timeStamp'} component={YouTube}/>\r\n\r\n                        <Route path={'/'} component={Boot}/>\r\n\r\n                    </Switch>\r\n                </div>\r\n            </Router>\r\n    );\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport {StoreProvider} from \"./DataProvider\"\n\nReactDOM.render(\n  <React.StrictMode>\n      <StoreProvider>\n          <App />\n      </StoreProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","let postJson = (json) => {\n    console.log(\"post json \" + JSON.stringify(json))\n    if (window.vuplex != null) {\n        window.vuplex.postMessage(json);\n    }\n}\n\nmodule.exports = {postJson};"],"sourceRoot":""}